# 剖析基于并发AQS的共享锁的实现(基于信号量Semaphore)

参考[剖析基于并发AQS的共享锁的实现(基于信号量Semaphore)](http://blog.csdn.net/javazejian/article/details/76167357)

AQS:AbstractQueuedSynchronizer 队列同步器

AQS中通过state值来控制对共享资源访问的线程数，每当线程请求同步状态成功，
state减一，如果超过限制数量的线程将被封装成共享模式的Node结点加入同步队列中等待，
直到其它线程释放同步状态，才有机会获得执行权；

而每个线程执行完成任务后释放同步状态，state状态加1，这就是共享锁的基本实现模型。

至于公平锁和非公平锁的区别，公平锁会在线程请求同步状态前，判断同步队列是否存在
Node，如果存在就将该线程封装成node加入同步队列，这样可以保证每个线程获取
同步状态是先进先出的顺序。非公平锁则是通过竞争的方式获取，不管同步队列是否存在
Node结点，只有通过竞争获取线程的执行权。